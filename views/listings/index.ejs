<% layout("/layouts/boilerpalte.ejs") %>
<div id="filters">
  <form action="/listings/trending" method="get">
    <div class="filter">
      <button class="btn">
        <div class="icon">
          <i class="fa-brands fa-free-code-camp fa-xl" style="color: #e62828;"></i>
        </div>
        <p class="text">Trending</p>
      </button>
    </div>
  </form>

  <form action="/listings/rooms" method="get">
    <div class="filter">
      <button class="btn">
        <div class="icon">
          <i class="fa-solid fa-bed"></i>
        </div>
        <p class="text">Rooms</p>
      </button>
    </div>
  </form>

  <form action="/listings/iconic-cities" method="get">
    <div class="filter">
      <button class="btn">
        <div class="icon">
          <i class="fa-solid fa-city"></i>
        </div>
        <p class="text">Iconic Cities</p>
      </button>
    </div>
  </form>

  <form action="/listings/mountains" method="get">
    <div class="filter">
      <button class="btn">
        <div class="icon">
          <i class="fa-solid fa-mountain-sun"></i>
        </div>
        <p class="text">Mountains</p>
      </button>
    </div>
  </form>

  <form action="/listings/castles" method="get">
    <div class="filter">
      <button class="btn">
        <div class="icon">
          <i class="fa-brands fa-fort-awesome"></i>
        </div>
        <p class="text">Castles</p>
      </button>
    </div>
  </form>

  <form action="/listings/amazing-pool" method="get">
    <div class="filter">
      <button class="btn">
        <div class="icon">
          <i class="fa-solid fa-person-swimming"></i>
        </div>
        <p class="text">Amazing Pools</p>
      </button>
    </div>
  </form>

  <form action="/listings/arctic" method="get">
    <div class="filter">
      <button class="btn">
        <div class="icon">
          <i class="fa-regular fa-snowflake"></i>
        </div>
        <p class="text">Arctic</p>
      </button>
    </div>
  </form>

  <form action="/listings/farms" method="get">
    <div class="filter">
      <button class="btn">
        <div class="icon">
          <i class="fa-solid fa-wheat-awn"></i>
        </div>
        <p class="text">Farms</p>
      </button>
    </div>
  </form>

  <form action="/listings/camps" method="get">
    <div class="filter">
      <button class="btn">
        <div class="icon">
          <i class="fa-solid fa-tents"></i>
        </div>
        <p class="text">Camps</p>
      </button>
    </div>
  </form>
  <div class="tax-toogle">
    <div class="form-check-reverse form-switch">
      <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
      <label class="form-check-label" for="flexSwitchCheckDefault">Display Total after Taxes</label>
    </div>
  </div>
</div>

  <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 allcards mt-2">
    <% for(let Listing of allListings){ %>
      <a href="/listings/<%= Listing._id %>" style="text-decoration: none;">
        <div class="listing-card col card" style="width: 20rem;">
          <img src="<%= Listing.image.url %>" class="card-img-top" alt="..." style="height: 20rem;">
          <div class="card-img-overlay"></div>
          <div class="card-body">
            <h5 class="card-title">
              <%= Listing.title %>
            </h5>
            <p class="card-text">
              <%= Listing.description %>
            </p>
            <p class="card-text">
              <b>&#8377;<%= Listing.price ? Listing.price.toLocaleString() : 'Price not available' %></b> night
               &nbsp; <i class="tax-info"> +18% GST</i>
            </p>
          </div>
        </div>
      </a>
      <% } %>
  </div>